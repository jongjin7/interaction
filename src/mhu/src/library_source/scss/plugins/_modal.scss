$prefix-modal: #{$prefix-component}Modal;
$modal-header: #{$prefix-modal}Header;
$modal-body: #{$prefix-modal}Body;
$modal-footer: #{$prefix-modal}Footer;
$btn-close: #{$prefix-modal}-close;

.#{$prefix-modal}-root {
    --#{$prefix}modal-zindex: #{$zindex-modal};
    --#{$prefix}modal-width: #{$modal-md};
    --#{$prefix}modal-padding: #{$modal-inner-padding};
    --#{$prefix}modal-margin: #{$modal-dialog-margin};
    --#{$prefix}modal-color: #{$modal-content-color};
    --#{$prefix}modal-bg: #{$modal-content-bg};
    --#{$prefix}modal-border-color: #{$modal-content-border-color};
    --#{$prefix}modal-border-width: #{$modal-content-border-width};
    --#{$prefix}modal-border-radius: #{$modal-content-border-radius};
    --#{$prefix}modal-box-shadow: #{$modal-content-box-shadow-xs};
    --#{$prefix}modal-inner-border-radius: #{$modal-content-inner-border-radius};
    --#{$prefix}modal-header-padding-x: #{$modal-header-padding-x};
    --#{$prefix}modal-header-padding-y: #{$modal-header-padding-y};
    --#{$prefix}modal-header-padding: #{$modal-header-padding};
    --#{$prefix}modal-header-border-color: #{$modal-header-border-color};
    --#{$prefix}modal-header-border-width: #{$modal-header-border-width};
    --#{$prefix}modal-title-size: #{$modal-title-size};
    --#{$prefix}modal-title-line-height: #{$modal-title-line-height};
    --#{$prefix}modal-footer-gap: #{$modal-footer-margin-between};
    --#{$prefix}modal-footer-bg: #{$modal-footer-bg};
    --#{$prefix}modal-footer-border-color: #{$modal-footer-border-color};
    --#{$prefix}modal-footer-border-width: #{$modal-footer-border-width};

    position: fixed;
    top: 0;
    left: 0;
    z-index: var(--#{$prefix}modal-zindex);
    display: none;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;
    outline: 0;

    & > div > div > * {
        opacity: 0;
        transition: opacity 0.15s;
    }

    &.#{$prefix-modal}--no-backdrop{
        pointer-events: none;
    }

    // When trying to close, animate focus to scale
    &.#{$prefix-modal}--static & {
        transform: $modal-scale-transform;
    }

    &.mhuStyle-show > div > div > * {
        opacity: 1;
    }

    &.mhuStyle-fade .#{$prefix-modal}__dialog {
        transition: transform .3s ease-out;
        transform: translateY(-50px);
    }

    &.mhuStyle-show .#{$prefix-modal}__dialog {
        transform: none !important;
    }

}

.#{$prefix-modal}__dialog {
    position: relative;
    width: auto;
    margin: var(--#{$prefix}modal-margin);
    // allow clicks to pass through for custom click handling to close modal
    pointer-events: none;

    &--centered {
        display: flex;
        align-items: center;
        min-height: calc(100% - var(--#{$prefix}modal-margin) * 2);
    }

    &--scrollable {
        height: calc(100% - var(--#{$prefix}modal-margin) * 2);

        .#{$prefix-modal}__content {
            max-height: 100%;
            overflow: hidden;
        }

        .#{$prefix-modal}Body-root {
            overflow-y: auto;
        }
    }
}

.#{$prefix-modal}__content {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    color: var(--#{$prefix}modal-color);
    background-color: var(--#{$prefix}modal-bg);
    background-clip: padding-box;
    border: var(--#{$prefix}modal-border-width) solid var(--#{$prefix}modal-border-color);
    @include border-radius(var(--#{$prefix}modal-border-radius));
    @include box-shadow(var(--#{$prefix}modal-box-shadow));
    outline: 0;
    pointer-events: auto;
}

.#{$modal-header}-root {
    display: flex;
    flex-shrink: 0;
    align-items: center;
    position: relative;
    justify-content: space-between; // Put modal header elements (title and dismiss) on opposite ends
    padding: var(--#{$prefix}modal-header-padding);
    border-bottom: var(--#{$prefix}modal-header-border-width) solid var(--#{$prefix}modal-header-border-color);
    @include border-top-radius(var(--#{$prefix}modal-inner-border-radius));

    .mhuButton-close {
        padding: calc(var(--#{$prefix}modal-header-padding-y) * .5) calc(var(--#{$prefix}modal-header-padding-x) * .5);
        margin: calc(-.5 * var(--#{$prefix}modal-header-padding-y)) calc(-.5 * var(--#{$prefix}modal-header-padding-x)) calc(-.5 * var(--#{$prefix}modal-header-padding-y)) auto;
    }

}

.#{$modal-header}__title {
    font-size: var(--#{$prefix}modal-title-size);
    font-feature-settings: 'liga' off;
}

.#{$modal-header}__subtitle {
    padding-top: 16px;
}

.#{$modal-body}-root {
    position: relative;
    flex: 1 1 auto;
    padding: var(--#{$prefix}modal-padding);
}

.#{$modal-footer}-root {
    display: flex;
    flex-shrink: 0;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-end;
    padding: calc(var(--#{$prefix}modal-padding) - var(--#{$prefix}modal-footer-gap) * .5);
    background-color: var(--#{$prefix}modal-footer-bg);
    border-top: var(--#{$prefix}modal-footer-border-width) solid var(--#{$prefix}modal-footer-border-color);
    @include border-bottom-radius(var(--#{$prefix}modal-inner-border-radius));
    //> * {
    //    margin: calc(var(--#{$prefix}modal-footer-gap) * .5);
    //}
}



@media (min-width: 576px) {
    .#{$prefix-modal}__dialog {
        max-width: var(--#{$prefix}modal-width);
        margin-right: auto;
        margin-left: auto;
    }
}

@media ( min-width : 768px) {
    .#{$prefix-modal}-root {
        min-width: 768px;
        overflow-x: auto;
    }

    .#{$prefix-modal}__dialog {
        max-width: var(--#{$prefix}modal-width);

    }

    // 사이즈
    .#{$prefix-modal}--size-sm {
        --#{$prefix}modal-width: #{$modal-sm};
    }

    .#{$prefix-modal}--size-md {
        --#{$prefix}modal-width: #{$modal-md};

    }
    .#{$prefix-modal}--size-lg {
        --#{$prefix}modal-width: #{$modal-lg};
    }
    .#{$prefix-modal}--size-xl {
        --#{$prefix}modal-width: #{$modal-xl};
    }
}

@media ( min-width : 1024px) {
    .#{$prefix-modal}--size-lg,
    .#{$prefix-modal}--size-xl {
        --#{$prefix}modal-width: #{$modal-lg};
    }
}

